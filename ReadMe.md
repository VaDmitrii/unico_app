# Unico Application

### Бэкенд-система с использованием Django и интеграцией с API Stripe для обработки покупок и взаимодействий с пользователями.


## Запуск сервиса
Для запуска проекта необходимо выполнить следующие шаги

1. Открыть IDLE и скачать репозиторий на локальную машину `git pull https://github.com/VaDmitrii/unico_app.git`
2. Перейти в директорию `unico_app` с помощью команды `cd <путь до директории>`
3. Создать виртуальное окружение в директории unico_app: `python3 -m venv venv`
4. Активировать виртуальное окружение:
* `source venv/bin/activate` - для Linux и MacOS
* `venv/Scripts/activate` - для Windows OS
5. Установить зависимости с помощью пакетного менеджера `pip install -r requirements.txt`
6. Собрать контейнеры с базой данных и приложением: `docker compose up -d`.</br>!ВНИМАНИЕ: Контейнер с миграциями запускается, накатывает миграции на БД PostgreSQL и завершается. Создавать и накатывать миграции отдельно не нужно.
7. Сделать посев БД (заполнить базу данных тестовыми данным, 15 единиц):</br> `docker-compose exec api python3 manage.py loaddata fixtures.json`

## Доступные эндпоинты
1. GET `localhost:8000/buy/{id}` (интервал доступных id: от 1 до 15) - Получение идентификатора сессии Stripe для покупки выбранного товара
2. GET `localhost:8000/item/{id}` (интервал доступных id: от 1 до 15) - Отображение HTML-страницы с информацией о выбранном товаре и кнопкой "Купить"
3. GET `localhost:8000/api/schema/swagger-ui` - сваггер приложения

## Модели Django
1. Item. Поля модели:
- name
- description
- price

## Структура проекта
* item - приложение модели Item
    - migrations - директория с миграциями БД
* static - директория с css-файлами
* templates - шаблоны html-страниц
* unico_app - основная директория с файлами конфигурации приложения
* docker-compose.yaml - файл для сборки Docker-контейнеров частей приложения и их запуска в одной сети
* Dockerfile - файл сборки docker-образа приложения
* fixtures.json - фикстуры тестовых данных для посева в БД
* requirements.txt - файл с зависимостями
